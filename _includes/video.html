<div class="video-container mx-auto mb-4">
  <div class="ratio ratio-16x9 rounded shadow">
    {% if include.video_id %}
      <iframe
        src="https://www.youtube.com/embed/{{ include.video_id }}?rel=0&showinfo=0&modestbranding=1"
        title="{{ include.title | default: 'Video' }}"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      >
      </iframe>
    {% elsif include.vimeo_id %}
      <iframe
        src="https://player.vimeo.com/video/{{ include.vimeo_id }}"
        title="{{ include.title | default: 'Video' }}"
        frameborder="0"
        allow="autoplay; fullscreen; picture-in-picture"
        allowfullscreen
      >
      </iframe>
    {% elsif include.src %}
      <video controls class="w-100 h-100 rounded">
        <source
          src="{{ include.src }}"
          type="{{ include.type | default: 'video/mp4' }}"
        >
        Your browser does not support the video tag.
      </video>
    {% endif %}
  </div>

  {% if include.caption %}
    <div class="text-center mt-2">
      <small class="text-muted">{{ include.caption }}</small>
    </div>
  {% endif %}
</div>

<style>
  .video-container {
    width: 100%;
    max-width: 48rem;
  }

  /* Ensure video fills container properly */
  .video-container iframe,
  .video-container video {
    border-radius: 0.375rem;
  }

  /* Mobile responsiveness */
  @media (max-width: 576px) {
    .video-container {
      margin-left: -0.5rem;
      margin-right: -0.5rem;
      max-width: calc(100vw - 1rem);
    }
  }
</style>
