{% comment %}
  Usage: {% include authors.html entry=entry %}
{% endcomment %}
{% assign authors = entry.author | split: ' and ' %}
{% assign author_limit = site.pub_show_max_authors %}
{% assign total_shown = author_limit | times: 2 %}

<div class="bibliography-authors">
  {% if authors.size <= total_shown %}
    {{ authors | join: ', ' }}
  {% else %}
    {% assign hidden_count = authors.size | minus: total_shown %}
    {% assign first_authors = authors | slice: 0, author_limit %}
    {% assign last_start_index = authors.size | minus: author_limit %}
    {% assign last_authors = authors | slice: last_start_index, author_limit %}
    <span class="authors-short">
      {{ first_authors | join: ', ' }},
      <button
        type="button"
        class="author-toggle btn-link"
        onclick="toggleAuthors(this)"
      >
        ... and {{ hidden_count }} more ...
      </button>
      , {{ last_authors | join: ', ' }}
    </span>
    <span class="authors-full d-none">
      {{ authors | join: ', ' }}
      <button
        type="button"
        class="author-toggle btn-link"
        onclick="toggleAuthors(this)"
      >
        (show fewer)
      </button>
    </span>
  {% endif %}
</div>
